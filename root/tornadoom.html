<!DOCTYPE html>
<html>
<head>
    <title>Tornadoom</title>
    <link rel="stylesheet" type="text/css" href="vonDoomStyles.css" />
    <!---------- Engine scripts  ---------->
    <script type="text/javascript" src="engine/scripts/math/vectors.js"></script>
    <script type="text/javascript" src="engine/scripts/math/quaternion.js"></script>
    <script type="text/javascript" src="engine/scripts/math/matrices.js"></script>
    <script type="text/javascript" src="engine/scripts/math/geometry.js"></script>
    <script type="text/javascript" src="engine/scripts/structsEnumsConsts.js"></script>
    <script type="text/javascript" src="engine/scripts/utility.js"></script>
    <script type="text/javascript" src="engine/scripts/debugManager.js"></script>
    <script type="text/javascript" src="engine/scripts/engineManager.js"></script>
    <script type="text/javascript" src="engine/scripts/primitiveShapes.js"></script>
    <script type="text/javascript" src="engine/scripts/glControl.js"></script>
    <script type="text/javascript" src="engine/scripts/inGameGUI.js"></script>
    <script type="text/javascript" src="engine/scripts/transform.js"></script>
    <script type="text/javascript" src="engine/scripts/camera.js"></script>
    <script type="text/javascript" src="engine/scripts/modelControl.js"></script>
    <script type="text/javascript" src="engine/scripts/gameObject.js"></script>
    <script type="text/javascript" src="engine/scripts/gameManager.js"></script>
    <script type="text/javascript" src="engine/scripts/tdControl.js"></script>
    <script type="text/javascript" src="engine/scripts/physicsControl.js"></script>
    <script type="text/javascript" src="engine/scripts/collisionControl.js"></script>
    <script type="text/javascript" src="engine/scripts/input.js"></script>
    <script type="text/javascript" src="engine/scripts/behaviours/FPController.js"></script>
    <!---------- Game scripts  ---------->
    <script type="text/javascript" src="game/scripts/screens.js"></script>
    <script type="text/javascript" src="game/scripts/behaviours/impulseBalls.js"></script>
</head>
<body onload="EM.PreLoad(Initialize)">
    <canvas id="canvasWebGL" width="1500" height="800"></canvas>
    <canvas id="canvas2D" width="1500" height="800"></canvas>
    <script id="main">
        /* Entry point for engine user.
        * This function must be called by
        * the body's onload function within
        * EM.PreLoad(). */
        function Initialize() {
            var textureNamesFilepaths = [
                ['discSurface', 'game/assets/images/discSurface.png']
            ];
            var modelNamesFilepaths = [
                ['disc', 'game/assets/models/GameObjects_Disc.json']
            ];

            DM.ShowWorldAxes = true;
            DM.ShowTransformAxes = true;
            DM.ShowBoundingShells = false;
            DM.ShowVelocities = true;
            DM.PrintProcessingData = true;

            // Initialize the Game Manager, passing the canvas to do much of the startup
            GM.Initialize(document.getElementById('canvasWebGL'), document.getElementById('canvas2D'));
            GM.LoadExternal(textureNamesFilepaths, modelNamesFilepaths, Run);
        }

        function Run() {
            /* From here, user defines whatever codebase they want, and just
            have to tell the Game Manager what function to loop. */
            var titleScreen = new Screen_Title();
            GM.SetLoopCallback(titleScreen.Update);

            /* Begins perpetual loop only, initialized as empty function */
            GM.BeginLoop();
        }
    </script>
</body>
</html>